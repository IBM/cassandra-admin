<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{page_title}}</title>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/htmx/1.9.6/htmx.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script defer src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/3.13.0/cdn.min.js"></script>
  <style>
    .modal.fade .modal-dialog {
      transform: scale(0.95);
      opacity: 0;
      transition: transform 0.1s ease, opacity 0.1s ease;
    }
    .modal.fade.show .modal-dialog {
      transform: scale(1);
      opacity: 1;
    }
  </style>
</head>
<body hx-boost="true">
  <div class="d-flex vh-100">
    {(sidebar.html)}
    <div class="flex-grow-1 d-flex flex-column position-relative">
      <div id="nav-loading" class="bg-white htmx-indicator p-3 position-absolute rounded shadow-lg start-50 text-center top-50 translate-middle" style="z-index: 9999;">
        <div class="spinner-border text-secondary" role="status"></div>
      </div>
      <div class="main-content flex-grow-1 d-flex shadow z-1 flex-column overflow-hidden" style="font-size: 12px;">
        {% if error_message then %}
          {(centered_message.html, { icon = "bi-emoji-dizzy", title = "Error", text = error_message })}
        {% elseif show_new_keyspace_form then %}
        {(new_keyspace.html)}
        {% elseif show_new_table_form then %}
        {(new_table.html)}
        {% elseif not keyspace_name or keyspace_name == "" or not table_name or table_name == "" then %}
          {(centered_message.html, { icon = "bi-database-fill", title = "Select a keyspace and table to view data", text = "Use the sidebar to choose a keyspace and table." })}
        {% else %}
        {(table.html)}
        {% end %}
      </div>
    </div>
  </div>

  {% if initialized then %}
  <script src="/static/js/table.js"></script>
  {% end %}
  {(settings.html)}
</body>
</html>